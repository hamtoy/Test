# shining-quasar í”„ë¡œì íŠ¸ ê°œì„  íƒìƒ‰ ë³´ê³ ì„œ

ë³¸ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ í‰ê°€ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ, í–¥í›„ ìˆ˜í–‰í•´ì•¼ í•  **ë¯¸ê²°(Pending) ê°œì„  í•­ëª©**ì„ ì •ì˜í•©ë‹ˆë‹¤. í˜„ì¬ ëª¨ë“  ì£¼ìš” ê°œì„  ì‚¬í•­ì´ ì ìš©ë˜ì–´ ë¯¸ê²° í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.

<!-- AUTO-SUMMARY-START -->
## 1. ì „ì²´ ê°œì„  ìš”ì•½

### 1.1 í˜„ì¬ ìƒíƒœ

ëª¨ë“  P1, P2, P3, OPT ê°œì„  í•­ëª©ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš© ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.

| êµ¬ë¶„ | ë¯¸ê²° í•­ëª© ìˆ˜ | ìƒíƒœ |
|:---:|:---:|:---:|
| **P1 (Critical)** | 0 | âœ… í•­ëª© ì—†ìŒ |
| **P2 (High)** | 0 | âœ… ì „ì²´ ì ìš© ì™„ë£Œ |
| **P3 (Normal)** | 0 | âœ… ì „ì²´ ì ìš© ì™„ë£Œ |
| **OPT (Optimization)** | 0 | âœ… ì „ì²´ ì ìš© ì™„ë£Œ |

### 1.2 ì ìš© ì™„ë£Œëœ ì£¼ìš” ê°œì„  ì‚¬í•­

| # | í•­ëª©ëª… | ìš°ì„ ìˆœìœ„ | ì¹´í…Œê³ ë¦¬ | ì ìš© ìƒíƒœ |
|:---:|:---|:---:|:---|:---:|
| 1 | API ë¬¸ì„œ ìë™í™” | P2 | ğŸ“š ë¬¸ì„œí™” | âœ… ì™„ë£Œ (`docs.yml` - Sphinx) |
| 2 | ëª¨ë‹ˆí„°ë§ ì•Œë¦¼ ì„¤ì • | P2 | âš™ï¸ ìš´ì˜ | âœ… ì™„ë£Œ (`rules.yaml`) |
| 3 | ë³´ì•ˆ ìŠ¤ìº” CI í†µí•© | P3 | ğŸ”’ ë³´ì•ˆ | âœ… ì™„ë£Œ (`security.yml`) |
| 4 | ì™¸ë¶€ ì˜ì¡´ì„± ëª¨í‚¹ ê°œì„  | P3 | ğŸ§ª í…ŒìŠ¤íŠ¸ | âœ… ì™„ë£Œ (`tests/fixtures/`) |
| 5 | CLI ë„ì›€ë§ ê°œì„  | OPT | ğŸ› ï¸ UX | âœ… ì™„ë£Œ |
| 6 | ìºì‹± ë ˆì´ì–´ ê°€ì‹œì„± | OPT | âš™ï¸ ì„±ëŠ¥ | âœ… ì™„ë£Œ (`metrics.py`) |

> ğŸ“ **ì°¸ê³ :** ì ìš© ì™„ë£Œëœ ê°œì„  ì‚¬í•­ì˜ ìƒì„¸ ì´ë ¥ì€ `Session_History.md`ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<!-- AUTO-SUMMARY-END -->

<!-- AUTO-IMPROVEMENT-LIST-START -->
## 2. ê¸°ëŠ¥ ê°œì„  í•­ëª© (P1/P2)

í˜„ì¬ ë¯¸ê²° P1/P2 ê°œì„  í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.

> ğŸ‰ ëª¨ë“  P1/P2 ê°œì„  í•­ëª©ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.
>
> ì ìš©ëœ í•­ëª©:
>
> - `doc-api-auto-001`: API ë¬¸ì„œ ìë™í™” â†’ `docs.yml` ì›Œí¬í”Œë¡œìš° êµ¬í˜„
> - `ops-alerting-001`: ëª¨ë‹ˆí„°ë§ ì•Œë¦¼ ì„¤ì • â†’ `grafana/provisioning/alerting/rules.yaml` êµ¬í˜„
<!-- AUTO-IMPROVEMENT-LIST-END -->

<!-- AUTO-FEATURE-LIST-START -->
## 3. ê¸°ëŠ¥ ì¶”ê°€ í•­ëª© (P3)

í˜„ì¬ ë¯¸ê²° P3 ê¸°ëŠ¥ ì¶”ê°€ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.

> ğŸ‰ ëª¨ë“  P3 ê¸°ëŠ¥ ì¶”ê°€ í•­ëª©ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.
>
> ì ìš©ëœ í•­ëª©:
>
> - `sec-ci-scan-001`: ë³´ì•ˆ ìŠ¤ìº” CI í†µí•© â†’ `.github/workflows/security.yml` êµ¬í˜„
> - `test-mocking-001`: ì™¸ë¶€ ì˜ì¡´ì„± ëª¨í‚¹ â†’ `tests/fixtures/mock_neo4j.py`, `tests/fixtures/mock_redis.py` êµ¬í˜„
<!-- AUTO-FEATURE-LIST-END -->

<!-- AUTO-OPTIMIZATION-START -->
## 4. ì½”ë“œ í’ˆì§ˆ ë° ì„±ëŠ¥ ìµœì í™” (OPT)

í˜„ì¬ ë¯¸ê²° OPT ìµœì í™” í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.

> ğŸ‰ ëª¨ë“  OPT ìµœì í™” í•­ëª©ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.
>
> ì ìš©ëœ í•­ëª©:
>
> - `ux-cli-help-001`: CLI ë„ì›€ë§ ê°œì„  â†’ Rich ê¸°ë°˜ CLI í—¬í¼ êµ¬í˜„
> - `opt-cache-metrics-001`: ìºì‹± ë ˆì´ì–´ ê°€ì‹œì„± â†’ `CACHE_HIT_TOTAL`, `CACHE_MISS_TOTAL` ë©”íŠ¸ë¦­ ì¶”ê°€

### í–¥í›„ ê³ ë ¤ ê°€ëŠ¥í•œ ìµœì í™” (ì„ íƒì )

í”„ë¡œì íŠ¸ê°€ ì•ˆì •í™”ëœ í›„ ë‹¤ìŒê³¼ ê°™ì€ ì¶”ê°€ ìµœì í™”ë¥¼ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

#### OPT-A: Neo4j ë°°ì¹˜ íŠ¸ëœì­ì…˜ ì ìš©

| í•­ëª© | ë‚´ìš© |
|:---|:---|
| **ëŒ€ìƒ íŒŒì¼** | `src/graph/builder.py` |
| **í˜„ì¬ ìƒíƒœ** | ê° ë…¸ë“œ/ê´€ê³„ ìƒì„± ì‹œ ê°œë³„ `session.run()` í˜¸ì¶œ (ì•½ 20ê°œ ì´ìƒ ê°œë³„ íŠ¸ëœì­ì…˜) |
| **ìµœì í™” ë‚´ìš©** | Neo4j 5.21ì˜ `CALL {...} IN TRANSACTIONS` êµ¬ë¬¸ í™œìš©í•˜ì—¬ ë°°ì¹˜ ì²˜ë¦¬ |
| **ì˜ˆìƒ íš¨ê³¼** | ê·¸ë˜í”„ êµ¬ì¶• ì‹œê°„ 30~50% ë‹¨ì¶•, ë„¤íŠ¸ì›Œí¬ ë¼ìš´ë“œíŠ¸ë¦½ ê°ì†Œ |

```python
# í˜„ì¬ ì½”ë“œ (ê°œë³„ ì‹¤í–‰)
for rule_text in current_rules:
    session.run("MERGE (r:Rule {id: $id}) SET...", id=rid, text=rule_text)

# ìµœì í™” í›„ (ë°°ì¹˜ ì‹¤í–‰)
session.run("""
    UNWIND $batch AS item
    MERGE (r:Rule {id: item.id})
    SET r.text = item.text
""", batch=rules_batch)
```

#### OPT-B: Redis íŒŒì´í”„ë¼ì´ë‹ ì ìš©

| í•­ëª© | ë‚´ìš© |
|:---|:---|
| **ëŒ€ìƒ íŒŒì¼** | `src/caching/redis_cache.py` |
| **í˜„ì¬ ìƒíƒœ** | ê°œë³„ `await redis.get/set` í˜¸ì¶œ |
| **ìµœì í™” ë‚´ìš©** | `redis.pipeline()` ì‚¬ìš©í•˜ì—¬ ë‹¤ì¤‘ ëª…ë ¹ ë°°ì¹˜ ì²˜ë¦¬ |
| **ì˜ˆìƒ íš¨ê³¼** | ë‹¤ì¤‘ ìºì‹œ ì¡°íšŒ ì‹œ ë ˆì´í„´ì‹œ 60~80% ê°ì†Œ |

```python
# ìµœì í™” ì˜ˆì‹œ
async def get_many(self, keys: list[str]) -> list[float | None]:
    async with self.redis.pipeline() as pipe:
        for key in keys:
            pipe.get(f"{self.prefix}{key}")
        return await pipe.execute()
```

#### OPT-C: Gemini Batch API í™œìš©

| í•­ëª© | ë‚´ìš© |
|:---|:---|
| **ëŒ€ìƒ íŒŒì¼** | `src/llm/gemini.py` |
| **í˜„ì¬ ìƒíƒœ** | ê°œë³„ `generate_content()` í˜¸ì¶œ, Rate Limit 429 ì‹œ ìˆœì°¨ ëŒ€ì²´ |
| **ìµœì í™” ë‚´ìš©** | Gemini Batch API í™œìš© (ë¹„ ì‹¤ì‹œê°„ ì‘ì—…ìš©) - 50% ë¹„ìš© ì ˆê° |
| **ì ìš© ì¡°ê±´** | ëŒ€ëŸ‰ í‰ê°€, ë°ì´í„° ì „ì²˜ë¦¬ ë“± ë¹„ ì‹¤ì‹œê°„ ì›Œí¬ë¡œë“œì—ë§Œ ì ìš© |

```python
# Batch API ì˜ˆì‹œ (ë¹„ë™ê¸° ì‘ì—…ìš©)
batch = client.create_batch_job(
    requests=[{"contents": [{"parts": [{"text": prompt}]}]} for prompt in prompts],
    model="gemini-flash-latest"
)
```

#### OPT-D: Cypher ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°í™” ê²€ì¦

| í•­ëª© | ë‚´ìš© |
|:---|:---|
| **ëŒ€ìƒ íŒŒì¼** | `src/graph/builder.py` |
| **í˜„ì¬ ìƒíƒœ** | ëŒ€ë¶€ë¶„ íŒŒë¼ë¯¸í„°í™” ì ìš©ë¨ âœ… |
| **ì¶”ê°€ ê²€í† ** | `PROFILE` / `EXPLAIN`ìœ¼ë¡œ ì‹¤í–‰ ê³„íš ë¶„ì„, ë³µì¡í•œ íŒ¨í„´ ë§¤ì¹­ ì¿¼ë¦¬ ìµœì í™” |

ì´ëŸ¬í•œ í•­ëª©ë“¤ì€ í˜„ì¬ í”„ë¡œì íŠ¸ ì™„ì„±ë„ê°€ ë†’ì•„ ì¦‰ì‹œ ìˆ˜í–‰í•  í•„ìš”ê°€ ì—†ìœ¼ë©°, ìš´ì˜ ë°ì´í„° ì¶•ì  í›„ íŒë‹¨í•˜ëŠ” ê²ƒì´ ì ì ˆí•©ë‹ˆë‹¤.
<!-- AUTO-OPTIMIZATION-END -->
