const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/qa.js","chunks/ocr.js","chunks/workspace.js","chunks/eval.js"])))=>i.map(i=>d[i]);
const v="modulepreload",E=function(t){return"/static/dist/"+t},p={},m=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),i=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));a=Promise.allSettled(n.map(l=>{if(l=E(l),l in p)return;p[l]=!0;const u=l.endsWith(".css"),w=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${w}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":v,u||(d.as="script"),d.crossOrigin="",d.href=l,i&&d.setAttribute("nonce",i),document.head.appendChild(d),u)return new Promise((y,g)=>{d.addEventListener("load",y),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(r){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r}return a.then(r=>{for(const i of r||[])i.status==="rejected"&&o(i.reason);return e().catch(o)})},f=new Map,T=t=>new Promise(e=>setTimeout(e,t));function c(t,e="info"){if(typeof document>"u"){console.warn(`[toast:${e}] ${t}`);return}const n=document.createElement("div");n.className=`toast toast--${e}`,n.textContent=t,document.body.appendChild(n),requestAnimationFrame(()=>n.classList.add("toast--show")),setTimeout(()=>{n.classList.remove("toast--show"),setTimeout(()=>n.remove(),300)},3e3)}class h extends Error{constructor(e,n={}){const a={400:"잘못된 요청입니다",401:"인증이 필요합니다",403:"접근 권한이 없습니다",404:"요청한 리소스를 찾을 수 없습니다",429:"요청이 너무 많습니다. 잠시 후 다시 시도해주세요",500:"서버 오류가 발생했습니다",502:"게이트웨이 오류입니다",503:"서비스를 일시적으로 사용할 수 없습니다",504:"LLM 응답 시간이 초과되었습니다. 잠시 후 다시 시도해주세요"}[e]||n.detail||n.message||"요청 실패";super(a),this.status=e,this.canRetry=[429,500,502,503,504].includes(e)}}function _(t){console.error("API Error:",t),t instanceof h&&t.canRetry?c(`${t.message} [다시 시도 가능]`,"warning"):t instanceof Error?c(t.message,"error"):c("알 수 없는 오류가 발생했습니다.","error")}function L(){typeof window>"u"||(window.addEventListener("error",t=>{t.error?c(`오류: ${t.error.message}`,"error"):c("알 수 없는 오류가 발생했습니다.","error")}),window.addEventListener("unhandledrejection",t=>{const e=t.reason;e instanceof Error?c(`오류: ${e.message}`,"error"):c(typeof e=="string"?`오류: ${e}`:"알 수 없는 오류가 발생했습니다.","error")}))}async function C(t,e="GET",n,s){const a={method:e,headers:{"Content-Type":"application/json"},signal:s};n&&(a.body=JSON.stringify(n));try{const o=await fetch(t,a);if(!o.ok){let r={};try{r=await o.json()}catch{}throw new h(o.status,r)}return await o.json()}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?new Error("요청이 취소되었습니다"):(_(o),o)}}async function P(t){const{retries:e=2,initialDelayMs:n=500,...s}=t;return A(()=>C(s.url,s.method,s.body,s.signal),e,n)}function x(t,e=null){navigator.clipboard.writeText(t).then(()=>{if(e){f.has(e)&&clearTimeout(f.get(e)),e.dataset.originalText||(e.dataset.originalText=e.textContent||""),e.textContent="✅ 복사됨",e.classList.add("copied");const n=setTimeout(()=>{e.textContent=e.dataset.originalText||"",e.classList.remove("copied"),f.delete(e)},1500);f.set(e,n)}else c("클립보드에 복사되었습니다!","success")}).catch(n=>c("복사 실패: "+n.message,"error"))}function R(t){const e=t==="batch"?9e4:45e3,n=Date.now(),s=setInterval(()=>{const a=Date.now()-n,o=Math.min(95,a/e*100),r=document.querySelector(".progress-fill");r&&(r.style.width=o+"%")},200);return()=>clearInterval(s)}async function A(t,e=2,n=500){let s=0,a=n,o;for(;s<=e;)try{return await t()}catch(r){o=r;const i=!r||r instanceof h&&r.canRetry||typeof r=="object"&&r!==null&&"status"in r&&typeof r.status=="number"&&r.status>=500;if(s===e||!i)break;await T(a),a*=2,s+=1}throw o}document.addEventListener("DOMContentLoaded",()=>{L();const t=window.location.pathname;t==="/qa"?m(async()=>{const{initQA:e}=await import("./chunks/qa.js");return{initQA:e}},__vite__mapDeps([0,1])).then(({initQA:e})=>e()).catch(e=>console.error("QA 모듈 로드 실패:",e)):t==="/workspace"?m(async()=>{const{initWorkspace:e}=await import("./chunks/workspace.js");return{initWorkspace:e}},__vite__mapDeps([2,1])).then(({initWorkspace:e})=>e()).catch(e=>console.error("Workspace 모듈 로드 실패:",e)):t==="/eval"&&m(async()=>{const{initEval:e}=await import("./chunks/eval.js");return{initEval:e}},__vite__mapDeps([3,1])).then(({initEval:e})=>e()).catch(e=>console.error("Eval 모듈 로드 실패:",e))});export{R as a,C as b,x as c,P as d,c as s,A as w};
//# sourceMappingURL=app.js.map
