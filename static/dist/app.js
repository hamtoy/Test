const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/qa.js","chunks/ocr.js","chunks/validation.js","chunks/workspace.js","chunks/eval.js"])))=>i.map(i=>d[i]);
const v="modulepreload",E=function(t){return"/static/dist/"+t},p={},m=function(e,r,o){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=E(l),l in p)return;p[l]=!0;const u=l.endsWith(".css"),w=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${w}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":v,u||(d.as="script"),d.crossOrigin="",d.href=l,c&&d.setAttribute("nonce",c),document.head.appendChild(d),u)return new Promise((y,g)=>{d.addEventListener("load",y),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&n(c.reason);return e().catch(n)})},f=new Map,_=t=>new Promise(e=>setTimeout(e,t));function a(t,e="info"){if(typeof document>"u"){console.warn(`[toast:${e}] ${t}`);return}const r=document.createElement("div");r.className=`toast toast--${e}`,r.textContent=t,document.body.appendChild(r),requestAnimationFrame(()=>r.classList.add("toast--show")),setTimeout(()=>{r.classList.remove("toast--show"),setTimeout(()=>r.remove(),300)},3e3)}class h extends Error{constructor(e,r={}){const i={400:"잘못된 요청입니다",401:"인증이 필요합니다",403:"접근 권한이 없습니다",404:"요청한 리소스를 찾을 수 없습니다",422:"요청 데이터 검증 실패",429:"요청이 너무 많습니다. 잠시 후 다시 시도해주세요",500:"서버 오류가 발생했습니다",502:"게이트웨이 오류입니다",503:"서비스를 일시적으로 사용할 수 없습니다",504:"LLM 응답 시간이 초과되었습니다. 잠시 후 다시 시도해주세요"}[e]||r.detail||r.message||"요청 실패";super(i),this.status=e,this.canRetry=[429,500,502,503,504].includes(e),this.errorData=r}}function T(t){if(console.error("API Error:",t),t instanceof h){if(t.status===422){m(async()=>{const{parse422Error:e}=await import("./chunks/validation.js");return{parse422Error:e}},[]).then(({parse422Error:e})=>{const r=e(t.errorData);a(r,"error")}).catch(()=>{a(t.message,"error")});return}t.canRetry?a(`${t.message} [다시 시도 가능]`,"warning"):a(t.message,"error")}else t instanceof Error?a(t.message,"error"):a("알 수 없는 오류가 발생했습니다.","error")}function L(){typeof window>"u"||(window.addEventListener("error",t=>{t.error?a(`오류: ${t.error.message}`,"error"):a("알 수 없는 오류가 발생했습니다.","error")}),window.addEventListener("unhandledrejection",t=>{const e=t.reason;e instanceof Error?a(`오류: ${e.message}`,"error"):a(typeof e=="string"?`오류: ${e}`:"알 수 없는 오류가 발생했습니다.","error")}))}async function A(t,e="GET",r,o){const i={method:e,headers:{"Content-Type":"application/json"},signal:o};r&&(i.body=JSON.stringify(r));try{const n=await fetch(t,i);if(!n.ok){let s={};try{s=await n.json()}catch{}throw new h(n.status,s)}return await n.json()}catch(n){throw n instanceof DOMException&&n.name==="AbortError"?new Error("요청이 취소되었습니다"):(T(n),n)}}async function P(t){const{retries:e=2,initialDelayMs:r=500,...o}=t;return C(()=>A(o.url,o.method,o.body,o.signal),e,r)}function x(t,e=null){navigator.clipboard.writeText(t).then(()=>{if(e){f.has(e)&&clearTimeout(f.get(e)),e.dataset.originalText||(e.dataset.originalText=e.textContent||""),e.textContent="✅ 복사됨",e.classList.add("copied");const r=setTimeout(()=>{e.textContent=e.dataset.originalText||"",e.classList.remove("copied"),f.delete(e)},1500);f.set(e,r)}else a("클립보드에 복사되었습니다!","success")}).catch(r=>a("복사 실패: "+r.message,"error"))}function R(t){const e=t==="batch"?9e4:45e3,r=Date.now(),o=setInterval(()=>{const i=Date.now()-r,n=Math.min(95,i/e*100),s=document.querySelector(".progress-fill");s&&(s.style.width=n+"%")},200);return()=>clearInterval(o)}async function C(t,e=2,r=500){let o=0,i=r,n;for(;o<=e;)try{return await t()}catch(s){n=s;const c=!s||s instanceof h&&s.canRetry||typeof s=="object"&&s!==null&&"status"in s&&typeof s.status=="number"&&s.status>=500;if(o===e||!c)break;await _(i),i*=2,o+=1}throw n}document.addEventListener("DOMContentLoaded",()=>{L();const t=window.location.pathname;t==="/qa"?m(async()=>{const{initQA:e}=await import("./chunks/qa.js");return{initQA:e}},__vite__mapDeps([0,1,2])).then(({initQA:e})=>e()).catch(e=>console.error("QA 모듈 로드 실패:",e)):t==="/workspace"?m(async()=>{const{initWorkspace:e}=await import("./chunks/workspace.js");return{initWorkspace:e}},__vite__mapDeps([3,1,2])).then(({initWorkspace:e})=>e()).catch(e=>console.error("Workspace 모듈 로드 실패:",e)):t==="/eval"&&m(async()=>{const{initEval:e}=await import("./chunks/eval.js");return{initEval:e}},__vite__mapDeps([4,1])).then(({initEval:e})=>e()).catch(e=>console.error("Eval 모듈 로드 실패:",e))});export{R as a,A as b,x as c,P as d,a as s,C as w};
//# sourceMappingURL=app.js.map
