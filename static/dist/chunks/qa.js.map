{"version":3,"file":"qa.js","sources":["../../qa.ts"],"sourcesContent":["import { apiCall, showToast, showProgressWithEstimate, withRetry } from \"./utils.js\";\r\nimport { loadOCR, saveOCR } from \"./ocr.js\";\r\n\r\ndeclare global {\r\n    interface Window {\r\n        DOMPurify: {\r\n            sanitize: (text: string) => string;\r\n        };\r\n    }\r\n}\r\n\r\ninterface QAPair {\r\n    type: string;\r\n    query: string;\r\n    answer: string;\r\n}\r\n\r\ninterface QAData {\r\n    success?: boolean;\r\n    data?: {\r\n        pairs?: QAPair[];\r\n        pair?: QAPair;\r\n    };\r\n    pairs?: QAPair[]; // flatten access\r\n    pair?: QAPair;\r\n}\r\n\r\nlet activeController: AbortController | null = null;\r\n\r\nfunction getModeLabels(mode: string): { title: string; eta: string } {\r\n    if (mode === \"batch\") {\r\n        return { title: \"‚ö° 4Í∞ú ÌÉÄÏûÖ ÎèôÏãú ÏÉùÏÑ± Ï§ë...\", eta: \"30Ï¥à~2Î∂Ñ\" };\r\n    }\r\n    if (mode === \"batch_three\") {\r\n        return { title: \"‚ö° 3Í∞ú ÌÉÄÏûÖ ÎèôÏãú ÏÉùÏÑ± Ï§ë...\", eta: \"20Ï¥à~90Ï¥à\" };\r\n    }\r\n    return { title: \"üöÄ ÎãµÎ≥Ä ÏÉùÏÑ± Ï§ë...\", eta: \"15Ï¥à~1Î∂Ñ\" };\r\n}\r\n\r\nfunction renderProgress(mode: string): string {\r\n    const { title, eta } = getModeLabels(mode);\r\n    return `\r\n        <div class=\"progress-container\" style=\"text-align: center; padding: 40px 20px; background: var(--bg-secondary, #f5f5f5); border-radius: 8px;\">\r\n            <h3 style=\"margin-bottom: 20px; color: var(--text-primary, #333);\">${title}</h3>\r\n            <div style=\"margin: 25px auto; width: 320px; height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);\">\r\n                <div class=\"progress-fill\" style=\"width: 0%; height: 100%; background: linear-gradient(90deg, var(--primary, #21808d) 0%, var(--primary-dark, #1a6673) 100%); transition: width 0.5s ease;\"></div>\r\n            </div>\r\n            <p style=\"color: var(--text-secondary, #666); font-size: 0.95em; margin-top: 20px; font-weight: 500;\">ÏòàÏÉÅ ÏÜåÏöî ÏãúÍ∞Ñ: <strong>${eta}</strong></p>\r\n            <p style=\"color: var(--text-secondary, #666); font-size: 0.85em; margin-top: 8px;\">Î≥ëÎ†¨ Ï≤òÎ¶¨Î°ú Îπ†Î•¥Í≤å ÏôÑÎ£åÎê©ÎãàÎã§ ‚ú®</p>\r\n        </div>\r\n    `;\r\n}\r\n\r\nfunction escapeHtml(text: string): string {\r\n    const div = document.createElement(\"div\");\r\n    div.textContent = text || \"\";\r\n    return div.innerHTML;\r\n}\r\n\r\nfunction formatAnswer(text: string): string {\r\n    const escaped = escapeHtml(text);\r\n    const formatted = escaped\r\n        .replace(/\\*\\*([^*]+)\\*\\*/g, \"<strong>$1</strong>\")\r\n        .replace(/\\n\\n/g, \"<br><br>\")\r\n        .replace(/\\n/g, \"<br>\")\r\n        .replace(/^- /gm, \"‚Ä¢ \");\r\n    // DOMPurify is loaded globally\r\n    return window.DOMPurify ? window.DOMPurify.sanitize(formatted) : formatted;\r\n}\r\n\r\nfunction getTypeBadge(type: string): string {\r\n    const badges: Record<string, string> = {\r\n        global_explanation: \"üåç Ï†ÑÎ∞ò ÏÑ§Î™Ö\",\r\n        reasoning: \"üß† Ï∂îÎ°†\",\r\n        target_short: \"üéØ ÌÉÄÍ≤ü Îã®Îãµ\",\r\n        target_long: \"üìù ÌÉÄÍ≤ü Ïû•Îãµ\",\r\n    };\r\n    return badges[type] || type;\r\n}\r\n\r\nfunction copyToWorkspace(query: string, answer: string): void {\r\n    sessionStorage.setItem(\"workspace_query\", query);\r\n    sessionStorage.setItem(\"workspace_answer\", answer);\r\n    window.location.href = \"/workspace\";\r\n}\r\n\r\nfunction isQAPair(value: unknown): value is QAPair {\n    if (!value || typeof value !== \"object\") return false;\n    const candidate = value as Record<string, unknown>;\n    return (\n        typeof candidate.type === \"string\" &&\n        typeof candidate.query === \"string\" &&\n        typeof candidate.answer === \"string\"\n    );\n}\n\nfunction extractPairs(raw: unknown): QAPair[] {\n    if (!raw || typeof raw !== \"object\") return [];\n\n    const payload = raw as QAData;\n    const candidates: unknown[] = [];\n\n    if (payload.pairs) candidates.push(...payload.pairs);\n    if (payload.pair) candidates.push(payload.pair);\n    if (payload.data?.pairs) candidates.push(...payload.data.pairs);\n    if (payload.data?.pair) candidates.push(payload.data.pair);\n\n    return candidates.filter(isQAPair);\n}\n\nfunction displayResults(raw: unknown): void {\n    let pairs = extractPairs(raw);\n    const resultsDiv = document.getElementById(\"results\");\n    if (!resultsDiv) return;\n    resultsDiv.setAttribute(\"role\", \"status\");\n    resultsDiv.setAttribute(\"aria-live\", \"polite\");\n    resultsDiv.innerHTML = \"\";\n\n    const selectedMode = (document.querySelector(\"input[name=\\\"mode\\\"]:checked\") as HTMLInputElement)?.value;\n    if (selectedMode === \"batch_three\") {\r\n        const allowed = new Set([\"global_explanation\", \"reasoning\", \"target_long\"]);\r\n        pairs = pairs.filter((p) => allowed.has(p.type));\r\n    }\r\n    if (!pairs.length) {\r\n        resultsDiv.innerHTML = `\r\n            <div class=\"qa-card\">\r\n                <p style=\"margin:0; color: var(--text-secondary, #666);\">Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\r\n            </div>\r\n        `;\r\n        return;\r\n    }\r\n\r\n    pairs.forEach((item, index) => {\r\n        const card = document.createElement(\"div\");\r\n        card.className = \"qa-card\";\r\n        card.style.animation = `slideIn 0.3s ease-out ${index * 0.05}s both`;\r\n\r\n        card.innerHTML = `\r\n            <div class=\"qa-header\">\r\n                <span class=\"qa-type-badge\">${getTypeBadge(item.type)}</span>\r\n            </div>\r\n            <div class=\"qa-section\">\r\n                <strong>üí¨ ÏßàÏùò</strong>\r\n                <div class=\"qa-content\">${escapeHtml(item.query)}</div>\r\n            </div>\r\n            <div class=\"qa-section\">\r\n                <strong>‚ú® ÎãµÎ≥Ä</strong>\r\n                <div class=\"qa-content\">${formatAnswer(item.answer)}</div>\r\n            </div>\r\n            <div class=\"btn-row\" style=\"margin-top: 15px;\">\r\n                <button class=\"btn-small qa-copy-btn\">üìù ÏõåÌÅ¨Ïä§ÌéòÏù¥Ïä§Î°ú Î≥µÏÇ¨</button>\r\n            </div>\r\n        `;\r\n\r\n        const copyBtn = card.querySelector(\".qa-copy-btn\");\r\n        copyBtn?.addEventListener(\"click\", () => {\r\n            copyToWorkspace(item.query || \"\", item.answer || \"\");\r\n        });\r\n\r\n        resultsDiv.appendChild(card);\r\n    });\r\n}\r\n\r\ntype GenerateMode = \"single\" | \"batch\" | \"batch_three\";\n\ninterface GeneratePayload {\n    mode: \"single\" | \"batch\";\n    ocr_text: string;\n    qtype?: string;\n    batch_types?: string[];\n}\n\nasync function generateQA(mode: GenerateMode, qtype: string | null): Promise<void> {\n    const resultsDiv = document.getElementById(\"results\");\n    if (!resultsDiv) return;\n    const ocrInput = document.getElementById(\"ocr-input\") as HTMLTextAreaElement;\n    const ocrText = ocrInput.value;\n\r\n    if (!ocrText.trim()) {\r\n        showToast(\"OCR ÌÖçÏä§Ìä∏Î•º Î®ºÏ†Ä ÏûÖÎ†•ÌïòÏÑ∏Ïöî.\", \"error\");\r\n        return;\r\n    }\r\n\r\n    resultsDiv.innerHTML = renderProgress(mode);\r\n    const stopProgress = showProgressWithEstimate(mode === \"batch\" || mode === \"batch_three\" ? \"batch\" : \"single\");\r\n    const progressBar = document.querySelector(\".progress-fill\") as HTMLElement;\r\n\r\n    try {\n        const payload: GeneratePayload =\n            mode === \"single\"\n                ? {\n                      mode: \"single\",\n                      ocr_text: ocrText,\n                      qtype: qtype || \"global_explanation\",\n                  }\n                : {\n                      mode: \"batch\",\n                      ocr_text: ocrText,\n                  };\n\n        if (mode === \"batch_three\") {\n            payload.batch_types = [\n                \"global_explanation\",\n                \"reasoning\",\n                \"target_long\",\n            ];\n        }\n\r\n        if (activeController) {\r\n            activeController.abort();\r\n        }\r\n        activeController = new AbortController();\r\n        const result = await withRetry(\r\n            () => apiCall<QAData>(\"/api/qa/generate\", \"POST\", payload, activeController!.signal),\n            2,\n            800,\n        );\n        activeController = null;\r\n        stopProgress();\r\n        if (progressBar) progressBar.style.width = \"100%\";\r\n        await new Promise((resolve) => setTimeout(resolve, 300));\r\n        displayResults(result);\r\n    } catch (error: unknown) {\n        activeController = null;\n        stopProgress();\n        const message =\n            error instanceof Error ? error.message : \"Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\";\n        resultsDiv.innerHTML = `\n            <div style=\"text-align: center; padding: 30px; background: #ffebee; border-radius: 8px; border: 1px solid #f44336; margin-top: 20px;\">\n                <h3 style=\"color: #f44336; margin-bottom: 10px;\">‚ùå ÏÉùÏÑ± Ïã§Ìå®</h3>\n                <p style=\"color: #666; margin: 0;\">${message}</p>\n            </div>\n        `;\n    }\n}\n\nfunction setupModeKeyboardNavigation(): void {\n    const radios = Array.from(document.querySelectorAll<HTMLInputElement>(\"input[name=\\\"mode\\\"]\"));\n    if (!radios.length) return;\n\n    const focusRadio = (index: number) => {\n        const target = radios[index];\n        target.focus();\n        target.checked = true;\n        target.dispatchEvent(new Event(\"change\", { bubbles: true }));\n    };\n\n    radios.forEach((radio, idx) => {\n        radio.addEventListener(\"keydown\", (e: KeyboardEvent) => {\n            let nextIndex = idx;\n            if (e.key === \"ArrowRight\" || e.key === \"ArrowDown\") {\n                nextIndex = (idx + 1) % radios.length;\n                e.preventDefault();\n                focusRadio(nextIndex);\n            } else if (e.key === \"ArrowLeft\" || e.key === \"ArrowUp\") {\n                nextIndex = (idx - 1 + radios.length) % radios.length;\n                e.preventDefault();\n                focusRadio(nextIndex);\n            } else if (e.key === \"Home\") {\n                e.preventDefault();\n                focusRadio(0);\n            } else if (e.key === \"End\") {\n                e.preventDefault();\n                focusRadio(radios.length - 1);\n            }\n        });\n    });\n}\n\nexport function initQA(): void {\n    loadOCR();\n    document.getElementById(\"save-ocr-btn\")?.addEventListener(\"click\", () => saveOCR());\n\r\n    document.querySelectorAll(\"input[name=\\\"mode\\\"]\").forEach((radio) => {\r\n        radio.addEventListener(\"change\", (e) => {\r\n            const selector = document.getElementById(\"type-selector\");\r\n            if (selector) {\r\n                selector.style.display = (e.target as HTMLInputElement).value === \"single\" ? \"block\" : \"none\";\r\n            }\r\n        });\r\n    });\r\n\r\n    document.getElementById(\"generate-btn\")?.addEventListener(\"click\", async () => {\n        const modeInput = document.querySelector(\"input[name=\\\"mode\\\"]:checked\") as HTMLInputElement;\n        const mode = (modeInput?.value || \"single\") as GenerateMode;\n        const qtypeInput = document.getElementById(\"qtype\") as HTMLSelectElement;\n        const qtype = mode === \"single\" ? qtypeInput.value : null;\n        await generateQA(mode, qtype);\n    });\n\n    setupModeKeyboardNavigation();\n\n    document.addEventListener(\"keydown\", (e) => {\n        if (e.key === \"Escape\" && activeController) {\n            activeController.abort();\n            showToast(\"ÏöîÏ≤≠ÏùÑ Ï∑®ÏÜåÌñàÏäµÎãàÎã§.\", \"warning\");\n        }\n    });\r\n}\r\n"],"names":["activeController","getModeLabels","mode","renderProgress","title","eta","escapeHtml","text","div","formatAnswer","formatted","getTypeBadge","type","copyToWorkspace","query","answer","isQAPair","value","candidate","extractPairs","raw","payload","candidates","_a","_b","displayResults","pairs","resultsDiv","allowed","p","item","index","card","copyBtn","generateQA","qtype","ocrText","showToast","stopProgress","showProgressWithEstimate","progressBar","result","withRetry","apiCall","resolve","error","message","setupModeKeyboardNavigation","radios","focusRadio","target","radio","idx","e","nextIndex","initQA","loadOCR","saveOCR","selector","modeInput","qtypeInput"],"mappings":"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"}