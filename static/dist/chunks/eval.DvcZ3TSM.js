import{s as h,b as C}from"./utils.NDa8fJII.js";import{l as v,s as y}from"./ocr.BSf6QOB3.js";function w(){v(),document.getElementById("save-ocr-btn")?.addEventListener("click",()=>y()),document.getElementById("eval-btn")?.addEventListener("click",async()=>{const c=document.getElementById("query").value,o=[document.getElementById("answer-a").value,document.getElementById("answer-b").value,document.getElementById("answer-c").value];if(!c||o.some(e=>!e.trim())){h("모든 필드를 입력해주세요.","error");return}await b(c,o)})}async function b(c,o){const e=document.getElementById("eval-results");if(!e)return;e.innerHTML="";const s=document.createElement("div");s.className="loading",e.appendChild(s),e.appendChild(document.createTextNode(" 처리 중..."));try{const a=await C("/api/eval/external","POST",{query:c,answers:o});e.innerHTML="";const d=document.createElement("h3");d.textContent="평가 결과",e.appendChild(d);const r=document.createElement("table"),l=document.createElement("thead"),m=document.createElement("tr");["답변","점수","피드백"].forEach(n=>{const t=document.createElement("th");t.textContent=n,m.appendChild(t)}),l.appendChild(m),r.appendChild(l);const i=document.createElement("tbody");a.results.forEach(n=>{const t=document.createElement("tr");n.candidate_id===a.best&&(t.className="best-answer");const u=document.createElement("td");u.textContent=n.candidate_id+(n.candidate_id===a.best?" ⭐":""),t.appendChild(u);const p=document.createElement("td");p.textContent=String(n.score),t.appendChild(p);const E=document.createElement("td");E.textContent=n.feedback,t.appendChild(E),i.appendChild(t)}),r.appendChild(i),e.appendChild(r)}catch(a){e.innerHTML="";const d=document.createElement("p");d.className="eval-error-message",d.textContent=`평가 실패: ${a instanceof Error?a.message:"알 수 없는 오류가 발생했습니다."}`,e.appendChild(d)}}export{w as initEval};
//# sourceMappingURL=eval.DvcZ3TSM.js.map
