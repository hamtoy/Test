const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/qa.js","chunks/ocr.js","chunks/workspace.js","chunks/eval.js"])))=>i.map(i=>d[i]);
const v="modulepreload",E=function(t){return"/"+t},p={},u=function(e,n,c){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=E(l),l in p)return;p[l]=!0;const m=l.endsWith(".css"),w=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${w}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":v,m||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),m)return new Promise((y,g)=>{d.addEventListener("load",y),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return s.then(r=>{for(const a of r||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},f=new Map,T=t=>new Promise(e=>setTimeout(e,t));function i(t,e="info"){const n=document.createElement("div");n.className=`toast toast--${e}`,n.textContent=t,document.body.appendChild(n),requestAnimationFrame(()=>n.classList.add("toast--show")),setTimeout(()=>{n.classList.remove("toast--show"),setTimeout(()=>n.remove(),300)},3e3)}class h extends Error{constructor(e,n={}){const s={400:"잘못된 요청입니다",401:"인증이 필요합니다",403:"접근 권한이 없습니다",404:"요청한 리소스를 찾을 수 없습니다",429:"요청이 너무 많습니다. 잠시 후 다시 시도해주세요",500:"서버 오류가 발생했습니다",502:"게이트웨이 오류입니다",503:"서비스를 일시적으로 사용할 수 없습니다",504:"LLM 응답 시간이 초과되었습니다. 잠시 후 다시 시도해주세요"}[e]||n.detail||n.message||"요청 실패";super(s),this.status=e,this.canRetry=[429,500,502,503,504].includes(e)}}function _(t){console.error("API Error:",t),t instanceof h&&t.canRetry?i(`${t.message} [다시 시도 가능]`,"warning"):t instanceof Error?i(t.message,"error"):i("알 수 없는 오류가 발생했습니다.","error")}function L(){typeof window>"u"||(window.addEventListener("error",t=>{t.error?i(`오류: ${t.error.message}`,"error"):i("알 수 없는 오류가 발생했습니다.","error")}),window.addEventListener("unhandledrejection",t=>{const e=t.reason;e instanceof Error?i(`오류: ${e.message}`,"error"):i(typeof e=="string"?`오류: ${e}`:"알 수 없는 오류가 발생했습니다.","error")}))}async function A(t,e="GET",n,c){const s={method:e,headers:{"Content-Type":"application/json"},signal:c};n&&(s.body=JSON.stringify(n));try{const o=await fetch(t,s);if(!o.ok){let r={};try{r=await o.json()}catch{}throw new h(o.status,r)}return await o.json()}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?new Error("요청이 취소되었습니다"):(_(o),o)}}function C(t,e=null){navigator.clipboard.writeText(t).then(()=>{if(e){f.has(e)&&clearTimeout(f.get(e)),e.dataset.originalText||(e.dataset.originalText=e.textContent||""),e.textContent="✅ 복사됨",e.classList.add("copied");const n=setTimeout(()=>{e.textContent=e.dataset.originalText||"",e.classList.remove("copied"),f.delete(e)},1500);f.set(e,n)}else i("클립보드에 복사되었습니다!","success")}).catch(n=>i("복사 실패: "+n.message,"error"))}function P(t){const e=t==="batch"?9e4:45e3,n=Date.now(),c=setInterval(()=>{const s=Date.now()-n,o=Math.min(95,s/e*100),r=document.querySelector(".progress-fill");r&&(r.style.width=o+"%")},200);return()=>clearInterval(c)}async function x(t,e=2,n=500){let c=0,s=n,o;for(;c<=e;)try{return await t()}catch(r){o=r;const a=!r||r instanceof h&&r.canRetry||typeof r=="object"&&r!==null&&"status"in r&&typeof r.status=="number"&&r.status>=500;if(c===e||!a)break;await T(s),s*=2,c+=1}throw o}document.addEventListener("DOMContentLoaded",()=>{L();const t=window.location.pathname;t==="/qa"?u(async()=>{const{initQA:e}=await import("./chunks/qa.js");return{initQA:e}},__vite__mapDeps([0,1])).then(({initQA:e})=>e()).catch(e=>console.error("QA 모듈 로드 실패:",e)):t==="/workspace"?u(async()=>{const{initWorkspace:e}=await import("./chunks/workspace.js");return{initWorkspace:e}},__vite__mapDeps([2,1])).then(({initWorkspace:e})=>e()).catch(e=>console.error("Workspace 모듈 로드 실패:",e)):t==="/eval"&&u(async()=>{const{initEval:e}=await import("./chunks/eval.js");return{initEval:e}},__vite__mapDeps([3,1])).then(({initEval:e})=>e()).catch(e=>console.error("Eval 모듈 로드 실패:",e))});export{P as a,A as b,C as c,i as s,x as w};
//# sourceMappingURL=app.js.map
