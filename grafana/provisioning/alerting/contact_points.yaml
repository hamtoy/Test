apiVersion: 1

contactPoints:
  - orgId: 1
    name: default-email
    receivers:
      - uid: email-receiver
        type: email
        settings:
          addresses: admin@example.com
        disableResolveMessage: false

  - orgId: 1
    name: slack-notifications
    receivers:
      - uid: slack-receiver
        type: slack
        settings:
          # Configure your Slack webhook URL
          url: "${SLACK_WEBHOOK_URL}"
          recipient: "#alerts"
          title: "{{ .CommonLabels.alertname }}"
          text: "{{ .CommonAnnotations.summary }}"
        disableResolveMessage: false

policies:
  - orgId: 1
    receiver: default-email
    group_by:
      - alertname
      - severity
    group_wait: 30s
    group_interval: 5m
    repeat_interval: 4h
