const g="modulepreload",T=function(s){return"/static/dist/"+s},p={},v=function(e,t,o){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),c=r?.nonce||r?.getAttribute("nonce");i=Promise.allSettled(t.map(l=>{if(l=T(l),l in p)return;p[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":g,u||(d.as="script"),d.crossOrigin="",d.href=l,c&&d.setAttribute("nonce",c),document.head.appendChild(d),u)return new Promise((w,y)=>{d.addEventListener("load",w),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return i.then(r=>{for(const c of r||[])c.status==="rejected"&&n(c.reason);return e().catch(n)})},m=new Map,E=s=>new Promise(e=>setTimeout(e,s));function $(s,e){let t;return(...o)=>{t!==void 0&&clearTimeout(t),t=setTimeout(()=>{s(...o),t=void 0},e)}}function a(s,e="info"){if(typeof document>"u"){console.warn(`[toast:${e}] ${s}`);return}const t=document.createElement("div");t.className=`toast toast--${e}`,t.textContent=s,document.body.appendChild(t),requestAnimationFrame(()=>t.classList.add("toast--show")),setTimeout(()=>{t.classList.remove("toast--show"),setTimeout(()=>t.remove(),300)},3e3)}class f extends Error{constructor(e,t={}){const i={400:"잘못된 요청입니다",401:"인증이 필요합니다",403:"접근 권한이 없습니다",404:"요청한 리소스를 찾을 수 없습니다",422:"요청 데이터 검증 실패",429:"요청이 너무 많습니다. 잠시 후 다시 시도해주세요",500:"서버 오류가 발생했습니다",502:"게이트웨이 오류입니다",503:"서비스를 일시적으로 사용할 수 없습니다",504:"LLM 응답 시간이 초과되었습니다. 잠시 후 다시 시도해주세요"}[e]||t.detail||t.message||"요청 실패";super(i),this.status=e,this.canRetry=[429,500,502,503,504].includes(e),this.errorData=t}}function x(s){if(console.error("API Error:",s),s instanceof f){if(s.status===422){v(async()=>{const{parse422Error:e}=await import("./validation.DRcAY0lR.js");return{parse422Error:e}},[]).then(({parse422Error:e})=>{const t=e(s.errorData);a(t,"error")}).catch(()=>{a(s.message,"error")});return}s.canRetry?a(`${s.message} [다시 시도 가능]`,"warning"):a(s.message,"error")}else s instanceof Error?a(s.message,"error"):a("알 수 없는 오류가 발생했습니다.","error")}function R(){typeof window>"u"||(window.addEventListener("error",s=>{s.error?a(`오류: ${s.error.message}`,"error"):a("알 수 없는 오류가 발생했습니다.","error")}),window.addEventListener("unhandledrejection",s=>{const e=s.reason;e instanceof Error?a(`오류: ${e.message}`,"error"):a(typeof e=="string"?`오류: ${e}`:"알 수 없는 오류가 발생했습니다.","error")}))}async function C(s,e="GET",t,o){const i={method:e,headers:{"Content-Type":"application/json"},signal:o};t&&(i.body=JSON.stringify(t));try{const n=await fetch(s,i);if(!n.ok){let r={};try{r=await n.json()}catch{}throw new f(n.status,r)}return await n.json()}catch(n){throw n instanceof DOMException&&n.name==="AbortError"?new Error("요청이 취소되었습니다"):(x(n),n)}}async function P(s){const{retries:e=2,initialDelayMs:t=500,...o}=s;return L(()=>C(o.url,o.method,o.body,o.signal),e,t)}function A(s,e=null){navigator.clipboard.writeText(s).then(()=>{if(e){m.has(e)&&clearTimeout(m.get(e)),e.dataset.originalText||(e.dataset.originalText=e.textContent||""),e.textContent="✅ 복사됨",e.classList.add("copied");const t=setTimeout(()=>{e.textContent=e.dataset.originalText||"",e.classList.remove("copied"),m.delete(e)},1500);m.set(e,t)}else a("클립보드에 복사되었습니다!","success")}).catch(t=>a("복사 실패: "+t.message,"error"))}function M(s){const e=s==="batch"?9e4:45e3,t=Date.now(),o=setInterval(()=>{const i=Date.now()-t,n=Math.min(95,i/e*100),r=document.querySelector(".progress-fill");r&&(r.style.width=n+"%")},200);return()=>clearInterval(o)}async function L(s,e=2,t=500){let o=0,i=t,n;for(;o<=e;)try{return await s()}catch(r){n=r;const c=!r||r instanceof f&&r.canRetry||typeof r=="object"&&r!==null&&"status"in r&&typeof r.status=="number"&&r.status>=500;if(o===e||!c)break;await E(i),i*=2,o+=1}throw n}function S(s){const e=s.currentTarget,t=document.createElement("span"),o=Math.max(e.clientWidth,e.clientHeight),i=o/2;t.style.width=t.style.height=`${o}px`,t.style.left=`${s.clientX-e.getBoundingClientRect().left-i}px`,t.style.top=`${s.clientY-e.getBoundingClientRect().top-i}px`,t.classList.add("ripple");const n=e.getElementsByClassName("ripple")[0];n&&n.remove(),e.appendChild(t),setTimeout(()=>t.remove(),600)}export{v as _,M as a,C as b,S as c,$ as d,A as e,P as f,R as r,a as s,L as w};
//# sourceMappingURL=utils.NDa8fJII.js.map
